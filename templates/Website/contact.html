{% extends "Website/base.html" %} {# Corrected path #}

{% block title %}Contact Us - Mosla Pioneers{% endblock %}

{% block content %}
<div class="page-wrapper contact-page-wrapper">
    <main class="container">
        <section class="intro-section">
            <h1>Get In Touch</h1>
            <p>Have a question or a hiring need? We're here to help. Send us a message, and we'll connect you with a dedicated recruitment specialist right away.</p>
        </section>

        <div class="contact-card">
            <div class="contact-info-panel">
                <h2>Contact Information</h2>
                <p>Our team is ready to discuss your unique requirements...</p>
                <ul class="info-list">
                    <li class="info-item">
                        <svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M16.57,14.46a1,1,0,0,1-1.41,0L13.3,12.6a1,1,0,0,0-1.41,0l-1.13,1.12a1,1,0,0,1-1.41,0l-1-1a1,1,0,0,1,0-1.41l1.12-1.13a1,1,0,0,0,0-1.41L5.09,4.86a1,1,0,0,1,0-1.41l1-1a1,1,0,0,1,1.41,0l4.06,4.06,4.06,4.06a1,1,0,0,1,0,1.41Z"/></svg>
                        <span>+20 123 456 7890</span>
                    </li>
                    <li class="info-item">
                        <svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M19,4H5A3,3,0,0,0,2,7V17a3,3,0,0,0,3,3H19a3,3,0,0,0,3-3V7A3,3,0,0,0,19,4Zm-.41,2L12,11.88,5.41,6ZM4,17V7.41l5.88,5.88a3,3,0,0,0,4.24,0L20,7.41V17Z"/></svg>
                        <span>info@moslapioneers.com</span>
                    </li>
                    <li class="info-item">
                        <svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12,2a8,8,0,0,0-8,8c0,5.4,7,11.5,7.35,11.76a1,1,0,0,0,1.3,0C13,21.5,20,15.4,20,10A8,8,0,0,0,12,2Zm0,11a3,3,0,1,1,3-3A3,3,0,0,1,12,13Z"/></svg>
                        <span>123 Recruitment St, Cairo, Egypt</span>
                    </li>
                </ul>
                <div class="info-deco-circle"></div>
            </div>

            <div class="contact-form-panel">
                {# The action now points to the route within public_routes_bp #}
                <form id="contactForm" action="{{ url_for('public_routes_bp.contact_page') }}" method="POST">
                    <div class="form-grid two-col">
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" name="name" placeholder="e.g., John Doe" value="{{ form_data.get('name', '') }}" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Your Email</label>
                            <input type="email" id="email" name="email" placeholder="e.g., john.doe@example.com" value="{{ form_data.get('email', '') }}" required>
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label for="subject">Subject</label>
                        <input type="text" id="subject" name="subject" placeholder="e.g., Inquiry about Telesales Recruitment" value="{{ form_data.get('subject', '') }}" required>
                    </div>
                    <div class="form-group full-width">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" placeholder="Write your message here..." required>{{ form_data.get('message', '') }}</textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="submit-btn">Send Message</button>
                    </div>
                </form>
            </div>
        </div>
    </main>
</div>
{% endblock %}

{% block page_scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const contactForm = document.getElementById('contactForm');
    if (contactForm) {
        contactForm.addEventListener('submit', function(event) {
            let isValid = true;
            contactForm.querySelectorAll('[required]').forEach(input => {
                if (!input.value.trim()) {
                    isValid = false;
                    // You might want to add visual feedback here, e.g., adding an error class
                    input.style.borderColor = 'red'; // Simple example
                } else {
                    input.style.borderColor = ''; // Reset border color
                }
            });

            if (!isValid) {
                event.preventDefault(); 
                alert('Please fill in all required fields.');
            }
            // If using Flask to handle form and redirect with flash messages,
            // client-side alert on success might be redundant or can be removed.
        });
    }
});
</script>
{% endblock %}