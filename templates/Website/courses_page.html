{# templates/Website/courses_page.html #}
{% extends "Website/base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block head_extra %}
    {{ super() }}
    <!-- Link to the specific CSS for this page's design -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/website/courses.css') }}">
{% endblock %}

{% block content %}
<main>
    <section id="about" class="about-us">
      <div class="about-us-text">
        <h1>WELCOME TO OUR <span>Train To Hire</span> Courses</h1>
        <p>Mosla Pioneers offers comprehensive Train to Hire language programs designed to bridge the gap between language learning and employment opportunities. Our programs combine intensive language training with guaranteed job placement assistance, helping candidates secure positions with competitive salaries.</p>
        <p>Our success is built on our partnership with leading multinational companies who recognize our graduates' job-ready skills and professional communication abilities.</p>
      </div>
      <div class="about-us-image">
        <div>
          <h3>ðŸŽ“ Professional Training</h3><p>Expert instructors with 8+ years experience</p><br>
          <h3>ðŸ’¼ Job Guarantee</h3><p>Direct placement with partner companies</p><br>
          <h3>ðŸ’° Competitive Salaries</h3><p>High earning potential post-course</p>
        </div>
      </div>
    </section>

    <section id="courses" class="courses">
        <h2 class="section-title">Our Course Packages</h2>
        
        {# Loop through the grouped courses from the backend #}
        {% for category, courses_in_category in grouped_courses.items() %}
            <div id="{{ category|lower|replace(' ', '-') }}-courses" class="course-info">
                <h3>{{ category }} Course Packages</h3>
                
                <div class="course-cards">
                    {% for course in courses_in_category %}
                    <div class="course-card">
                        <h3>{{ course.CourseName }}</h3>
                        <p>
                            {% if course.Description %}{{ course.Description }}<br>{% endif %}
                            <strong>Duration:</strong> {{ course.Duration or 'N/A' }}
                        </p>
                        <p class="font-bold text-lg mb-4" style="color: var(--primary-color);">
                            {{ course.Price | currency(course.Currency or 'EGP') if course.Price else 'Contact for Price' }}
                        </p>
                        <div class="course-actions">
                            <a href="{{ course.SyllabusLink or '#' }}" class="apply-button" target="_blank" rel="noopener noreferrer">Apply To Course</a>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="text-center py-12">
                <p class="text-gray-500">No courses are available at this time. Please check back later.</p>
            </div>
        {% endfor %}
    </section>
</main>
{% endblock %}

{% block footer %}
    {# This will use the footer from base.html, so we can leave this block empty or call super() #}
    {{ super() }}
{% endblock %}