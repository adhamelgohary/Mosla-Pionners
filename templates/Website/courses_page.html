{% extends "Website/base.html" %}

{% block title %}Our Programs & Courses - Mosla Pioneers{% endblock %}

{% block head_extra %}
  {# The new stylesheet will be linked here #}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/website/courses.css') }}">
{% endblock %}

{% block content %}
<div class="page-content-wrapper-for-courses">
  
  <section id="about" class="about-us">
    <div class="about-us-text">
      <h1>WELCOME TO OUR <span>Train To Hire</span> Courses</h1>
      <p>
        Mosla Pioneers offers comprehensive Train to Hire language programs designed to bridge the gap between language learning and employment opportunities. Our programs combine intensive language training with guaranteed job placement assistance, helping candidates secure positions with competitive salaries up to 35,000 EGP.
      </p>
      <p>
        Our Train to Hire programs address the critical need for qualified bilingual professionals in Egypt's growing international business sector. By combining intensive language training with guaranteed employment opportunities, we create a direct pipeline from education to career advancement.
      </p>
    </div>
    <div class="about-us-image">
      <div>
        <h3><span class="mr-3">ðŸŽ“</span>Professional Training</h3>
        <p>Expert instructors with 8+ years experience</p>
        <br>
        <h3><span class="mr-3">ðŸ’¼</span>Job Guarantee</h3>
        <p>Direct placement with partner companies</p>
        <br>
        <h3><span class="mr-3">ðŸ’°</span>Competitive Salaries</h3>
        <p>Up to 35,000 EGP starting salary</p>
      </div>
    </div>
  </section>

  <section id="courses">
    <h2 class="section-title">Our Course Packages</h2>
    
    {% if main_packages %}
      {% for package in main_packages %}
      <div id="{{ package.Name|lower|replace(' ', '-') }}" class="course-info">
        <h3>{{ package.Name }}</h3>
        <p>{{ package.Description }}</p>
        
        {% if package.Benefits %}
        <div class="benefits-list">
          {% for benefit in package.Benefits.split(',') %}
            <div class="benefit-item">{{ benefit.strip() }}</div>
          {% endfor %}
        </div>
        {% endif %}

        {# --- RENDER MONOLINGUAL SUB-PACKAGES --- #}
        {% if package.MonolingualOverview %}
          <h4 class="sub-package-header">{{ package.MonolingualOverview }}</h4>
        {% endif %}
        <div class="course-cards">
          {% for sub in package.sub_packages if not sub.BilingualDetails or sub.BilingualDetails|trim == '' %}
            <div class="course-card">
              <h3>{{ sub.Name|safe }}</h3> {# Use |safe if you put HTML like emojis in the name #}
              <p class="course-card-description">{{ sub.Description|safe }}</p>
              <div class="course-card-price">
                <span class="current-price">{{ "%.0f"|format(sub.Price) }} EGP</span>
                {% if sub.OriginalPrice and sub.OriginalPrice > sub.Price %}
                <span class="original-price">{{ "%.0f"|format(sub.OriginalPrice) }} EGP</span>
                {% endif %}
              </div>
              <a href="{{ url_for('courses_page_bp.apply_for_package_form', sub_package_id=sub.SubPackageID) }}" class="apply-button">Apply To Course</a>
            </div>
          {% endfor %}
        </div>

        {# --- RENDER BILINGUAL SUB-PACKAGES --- #}
        {% if package.BilingualOverview %}
          <h4 class="sub-package-header">{{ package.BilingualOverview }}</h4>
        {% endif %}
        <div class="course-cards">
          {% for sub in package.sub_packages if sub.BilingualDetails and sub.BilingualDetails|trim != '' %}
            <div class="course-card">
              <h3>{{ sub.Name|safe }}</h3>
              <p class="course-card-description">{{ sub.Description|safe }}</p>
              <div class="course-card-price">
                <span class="current-price">{{ "%.0f"|format(sub.Price) }} EGP</span>
                {% if sub.OriginalPrice and sub.OriginalPrice > sub.Price %}
                <span class="original-price">{{ "%.0f"|format(sub.OriginalPrice) }} EGP</span>
                {% endif %}
              </div>
              <a href="{{ url_for('courses_page_bp.apply_for_package_form', sub_package_id=sub.SubPackageID) }}" class="apply-button">Apply To Course</a>
            </div>
          {% endfor %}
        </div>
        
        <div class="notes-section">
          <h4><span class="mr-2">ðŸ”¥</span>Important Notes:</h4>
          <div class="note-item">
            <span>âš¡</span>
            <p><strong>Intensive Schedule:</strong> 3 sessions per week + tasks between sessions</p>
          </div>
          <div class="note-item">
            <span>ðŸŽ¥</span>
            <p><strong>Format:</strong> Live online sessions - real classroom experience from home</p>
          </div>
          <div class="note-item">
            <span>ðŸ›‘</span>
            <p><strong>Payment Policy:</strong> Non-refundable (preparation starts immediately)</p>
          </div>
          <div class="note-item">
            <span>ðŸ’ª</span>
            <p><strong>Commitment Required:</strong> Regular attendance essential for success</p>
          </div>
        </div>
      </div>
      {% endfor %}
    {% else %}
      <div class="course-info" style="text-align: center;">
          <p class="text-muted">There are currently no active courses available. Please check back later!</p>
      </div>
    {% endif %}
  </section>
</div>
{% endblock %}