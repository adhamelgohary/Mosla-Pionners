{% extends "client_portal/client_base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="rounded-2xl p-6 sm:p-8 bg-card border border-border shadow-sm">
        <form action="{{ url_for('client_offers_bp.submit_offer') }}" method="POST" class="space-y-8">
            
            <!-- Section -->
            <div>
                <h3 class="text-base font-semibold leading-7 text-heading">Core Job Details</h3>
                <p class="mt-1 text-sm leading-6 text-text-muted">Provide the essential information for the job opening.</p>
                <div class="mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2">
                    <div class="sm:col-span-2">
                        <label for="title" class="form-label">Job Title <span class="text-danger">*</span></label>
                        <input type="text" name="title" id="title" class="form-input" value="{{ form_data.get('title', '') }}" required>
                    </div>
                    <div>
                        <label for="location" class="form-label">Location (e.g., "New Cairo")</label>
                        <input type="text" name="location" id="location" class="form-input" value="{{ form_data.get('location', '') }}">
                    </div>
                    <div>
                        <label for="closing_date" class="form-label">Closing Date <span class="text-danger">*</span></label>
                        <input type="date" name="closing_date" id="closing_date" class="form-input" value="{{ form_data.get('closing_date', '') }}" required>
                    </div>
                </div>
            </div>

            <div class="border-t border-border"></div>

            <!-- Section -->
            <div>
                <h3 class="text-base font-semibold leading-7 text-heading">Candidate Requirements</h3>
                <p class="mt-1 text-sm leading-6 text-text-muted">Specify the qualifications needed for the ideal candidate.</p>
                <div class="mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2">
                    <div>
                        <label for="english_level_requirement" class="form-label">Required English Level</label>
                        <select name="english_level_requirement" id="english_level_requirement" class="form-select">
                            <option value="">Select level...</option>
                            {% for level in ['B1', 'B1+', 'B2', 'B2+', 'C1', 'C2'] %}
                            <option value="{{ level }}" {% if form_data.get('english_level_requirement') == level %}selected{% endif %}>{{ level }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div>
                        <label for="nationality_requirement" class="form-label">Nationality</label>
                         <select name="nationality_requirement" id="nationality_requirement" class="form-select">
                            <option value="Egyptians Only" {% if form_data.get('nationality_requirement', 'Egyptians Only') == 'Egyptians Only' %}selected{% endif %}>Egyptians Only</option>
                            <option value="Foreigners & Egyptians" {% if form_data.get('nationality_requirement') == 'Foreigners & Egyptians' %}selected{% endif %}>Foreigners & Egyptians</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-border"></div>

            <!-- Section -->
            <div>
                <h3 class="text-base font-semibold leading-7 text-heading">Offer Package</h3>
                <p class="mt-1 text-sm leading-6 text-text-muted">Detail the salary and benefits for this position.</p>
                <div class="mt-6 grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-2">
                     <div>
                        <label for="net_salary" class="form-label">Net Salary (EGP)</label>
                        <input type="number" name="net_salary" id="net_salary" class="form-input" placeholder="e.g., 12000" value="{{ form_data.get('net_salary', '') }}">
                    </div>
                    <div>
                        <label class="form-label">Benefits Included</label>
                        <div class="mt-2 space-y-3">
                            {% for benefit in ['Transportation (Door to Door)', 'Transportation (Nearest Point)', 'Medical Insurance', 'Social Insurance', 'Paid Training'] %}
                            <div class="relative flex gap-x-3">
                                <div class="flex h-6 items-center">
                                    <input id="benefit-{{ loop.index }}" name="benefits" type="checkbox" value="{{ benefit }}" class="form-checkbox" {% if benefit in form_data.getlist('benefits') %}checked{% endif %}>
                                </div>
                                <div class="text-sm leading-6">
                                    <label for="benefit-{{ loop.index }}" class="font-medium text-text">{{ benefit }}</label>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>


            <!-- Submission Button -->
            <div class="flex justify-end pt-6 mt-6 border-t border-border">
                <button type="submit" class="btn-primary">
                    <i class="bi bi-send-fill mr-2"></i>
                    Submit for Review
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}