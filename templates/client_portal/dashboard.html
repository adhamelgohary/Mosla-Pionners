<!-- templates/client_portal/dashboard.html -->
{% extends "client_portal/client_base.html" %}

{% block title %}Client Dashboard{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block content %}
<div class="space-y-8">
    {% if company %}
    <!-- Welcome Header -->
    <div class="flex items-center space-x-4">
        {% if company.CompanyLogoURL %}
            <img class="h-16 w-16 rounded-full object-contain bg-gray-200 p-1" src="{{ company.CompanyLogoURL }}" alt="{{ company.CompanyName }} Logo">
        {% endif %}
        <div>
            <h2 class="text-2xl font-bold text-gray-800">Welcome, {{ company.CompanyName }}!</h2>
            <p class="text-md text-gray-500">Here's a summary of your activity.</p>
        </div>
    </div>

    <!-- Stats Grid -->
    <div>
        <h3 class="text-base font-semibold leading-6 text-gray-900">At a Glance</h3>
        <dl class="mt-4 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">
            <div class="overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6">
                <dt class="truncate text-sm font-medium text-gray-500">Live Job Offers</dt>
                <dd class="mt-1 text-3xl font-semibold tracking-tight text-gray-900">{{ company.LiveOffers or 0 }}</dd>
            </div>
            <div class="overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6">
                <dt class="truncate text-sm font-medium text-gray-500">Pending Submissions</dt>
                <dd class="mt-1 text-3xl font-semibold tracking-tight text-gray-900">{{ company.PendingSubmissions or 0 }}</dd>
            </div>
            <div class="overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6">
                <dt class="truncate text-sm font-medium text-gray-500">Total Submissions</dt>
                <dd class="mt-1 text-3xl font-semibold tracking-tight text-gray-900">{{ company.TotalSubmissions or 0 }}</dd>
            </div>
        </dl>
    </div>

    <!-- Quick Actions -->
    <div>
        <h3 class="text-base font-semibold leading-6 text-gray-900">Quick Actions</h3>
        <div class="mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2">
            <a href="{{ url_for('client_offers_bp.submit_offer') }}" class="flex items-center space-x-3 rounded-lg border border-gray-300 bg-white px-4 py-4 shadow-sm hover:border-slate-400 focus-within:ring-2 focus-within:ring-slate-500 focus-within:ring-offset-2">
                <div class="flex-shrink-0">
                    <i class="bi bi-file-earmark-plus-fill text-2xl text-slate-600"></i>
                </div>
                <div class="min-w-0 flex-1">
                    <span class="focus:outline-none">
                        <span class="absolute inset-0" aria-hidden="true"></span>
                        <p class="text-sm font-medium text-gray-900">Submit a New Job Offer</p>
                        <p class="truncate text-sm text-gray-500">Create and submit a new job vacancy for our team to review.</p>
                    </span>
                </div>
            </a>
            <a href="{{ url_for('client_offers_bp.pipeline') }}" class="flex items-center space-x-3 rounded-lg border border-gray-300 bg-white px-4 py-4 shadow-sm hover:border-slate-400 focus-within:ring-2 focus-within:ring-slate-500 focus-within:ring-offset-2">
                <div class="flex-shrink-0">
                    <i class="bi bi-people-fill text-2xl text-slate-600"></i>
                </div>
                <div class="min-w-0 flex-1">
                    <span class="focus:outline-none">
                        <span class="absolute inset-0" aria-hidden="true"></span>
                        <p class="text-sm font-medium text-gray-900">View Candidate Pipeline</p>
                        <p class="truncate text-sm text-gray-500">Track shortlisted candidates for your open positions.</p>
                    </span>
                </div>
            </a>
        </div>
    </div>
    {% else %}
    <div class="text-center py-10">
        <p class="text-gray-500">Could not load your dashboard data. Please try again later.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
