{% extends "agency_staff_portal/staff_base.html" %}

{% block staff_title %}{{ title }}{% endblock %}

{% block staff_page_title %}
    <i class="bi bi-speedometer2 text-gray-400"></i>
    <span>{{ title }}</span>
{% endblock %}

{% block staff_content %}
<div class="space-y-8">
    <!-- KPI Cards -->
    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">
        <!-- Pending Applications Card -->
        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <i class="bi bi-person-plus-fill text-3xl text-white bg-yellow-500 p-3 rounded-md"></i>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">Pending Applications</dt>
                            <dd class="flex items-baseline">
                                <div class="text-2xl font-semibold text-gray-900">{{ dashboard_data.pending_applications }}</div>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 px-5 py-3">
                <div class="text-sm">
                    <a href="{{ url_for('.manage_enrollment_requests') }}" class="font-medium text-primary-700 hover:text-primary-900">
                        View all <span aria-hidden="true">→</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Total Sales Revenue Card -->
        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <i class="bi bi-cash-stack text-3xl text-white bg-green-500 p-3 rounded-md"></i>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">Total Sales Revenue</dt>
                            <dd class="flex items-baseline">
                                <div class="text-2xl font-semibold text-gray-900">{{ "%.2f"|format(dashboard_data.total_sales_revenue) }}</div>
                                <span class="ml-2 text-sm font-medium text-gray-500">{{ dashboard_data.default_currency }}</span>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
        </div>

        <!-- Active Courses Card -->
        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <i class="bi bi-journals text-3xl text-white bg-blue-500 p-3 rounded-md"></i>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">Active Courses</dt>
                            <dd class="flex items-baseline">
                                <div class="text-2xl font-semibold text-gray-900">{{ dashboard_data.active_courses }}</div>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 px-5 py-3">
                <div class="text-sm">
                    <a href="{{ url_for('.list_all_course_content') }}" class="font-medium text-primary-700 hover:text-primary-900">
                        Manage courses <span aria-hidden="true">→</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Ongoing Students Card -->
        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <i class="bi bi-person-video3 text-3xl text-white bg-indigo-500 p-3 rounded-md"></i>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">Students In Progress</dt>
                            <dd>
                                <div class="text-2xl font-semibold text-gray-900">{{ dashboard_data.ongoing_students }}</div>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
        </div>

        <!-- Graduated Students Card -->
        <div class="bg-white overflow-hidden shadow rounded-lg">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <i class="bi bi-patch-check-fill text-3xl text-white bg-purple-500 p-3 rounded-md"></i>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dl>
                            <dt class="text-sm font-medium text-gray-500 truncate">Graduated Students</dt>
                            <dd>
                                <div class="text-2xl font-semibold text-gray-900">{{ dashboard_data.graduated_students }}</div>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}